<div class="card">
    <div class="card-header">
      <h5 *ngIf="!registerService.isLoggedIn">Step 1 - Personal Details</h5>
      <h5 *ngIf="registerService.isLoggedIn">Edit Personal Details</h5>
    </div>
    <div class="card-divider"></div>
    <div class="card-body">
        <form [formGroup]="registerService.basicDetails"  #purchaseMr="ngForm" autocomplete="off">
      <div class="row">
          <div class="col-12 col-lg-8 col-xl-8">
              <div class="form-group">
                <label for="profile-first-name">Registered As <small class="asterik">*</small></label>
                <div class="form-group">
                    <select formControlName="userRole" class="form-control">
                      <option value="CUSTOMER">Customer</option>
                      <option value="SUPPLIER">Supplier</option>
                    </select>
                    <small *ngIf="f.userRole.value === '' && (f.userRole.dirty || f.userRole.touched )"  class="form-text text-muted"
              >This field is required.</small>
                  </div>
              </div>
            </div>
      </div>
      <div class="row">
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">First Name <small class="asterik">*</small></label>
            <input type="text" class="form-control" id="profile-first-name" placeholder="First Name" formControlName="firstName">
            <small *ngIf="f.firstName.value === '' && (f.firstName.dirty || f.firstName.touched )" id="passwordHelpBlock" class="form-text text-muted"
        >This field is required.</small>
            <small *ngIf="f.firstName.value !== '' && f.firstName.errors?.minlength  " id="passwordHelpBlock" class="form-text text-muted"
        >First Name should be more than 2 characters.</small>
          </div>
        </div>
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">Last Name <small class="asterik">*</small></label>
            <input type="text" class="form-control" id="profile-first-name" placeholder="Last Name"  formControlName="lastName">
            <small *ngIf="f.lastName.value === '' && (f.lastName.dirty || f.lastName.touched )" id="passwordHelpBlock" class="form-text text-muted"
            >This field is required.</small>
              <small *ngIf="f.lastName.value !== '' && f.lastName.errors?.minlength  " id="passwordHelpBlock" class="form-text text-muted"
            >Last Name should be more than 2 characters.</small>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">Mobile <small class="asterik">*</small></label>
            <input type="text" maxLength="10" class="form-control" id="profile-first-name" placeholder="Mobile" formControlName="mobile">
            <small *ngIf="f.mobile.value === '' && (f.mobile.dirty || f.mobile.touched )" id="passwordHelpBlock" class="form-text text-muted"
            >This field is required.</small>
              <small *ngIf="f.mobile.value !== '' &&  f.mobile.errors?.contactNumberValidation" id="passwordHelpBlock" class="form-text text-muted"
            >This field only accepts 10 or 13 digits.</small>
            
          </div>
        </div>
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">E-mail <small class="asterik">*</small></label>
            <input  type="email" class="form-control" id="profile-first-name" placeholder="E-mail" formControlName="emailId">
            <small *ngIf="f.emailId.value === '' && (f.emailId.dirty || f.emailId.touched )" id="passwordHelpBlock" class="form-text text-muted"
        >This field is required.</small>
          </div>
        </div>
      </div>
      <div *ngIf="!registerService.isLoggedIn" class="row">
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">Password <small class="asterik">*</small></label>
            <input type="password" class="form-control" id="profile-first-name" placeholder="Password" formControlName="password">
            <small *ngIf="f.password.value === '' && (f.password.dirty || f.password.touched )" id="passwordHelpBlock" class="form-text text-muted"
        >This field is required.</small>
          </div>
        </div>
        <div class="col-12 col-lg-4 col-xl-4">
          <div class="form-group">
            <label for="profile-first-name">Confirm Password <small class="asterik">*</small></label>
            <input type="password" class="form-control" id="profile-first-name" placeholder="Confirm Password" formControlName="cpassword">
            <small *ngIf="f.cpassword.value === '' && (f.cpassword.dirty || f.cpassword.touched )" id="passwordHelpBlock" class="form-text text-muted"
        >This field is required.</small>
           <small *ngIf="f.cpassword.value !== '' && f.password.value != f.cpassword.value" id="passwordHelpBlock" class="form-text text-muted"
            >Password does not match</small
          >
          </div>
        </div>
      </div>
      <div *ngIf="!registerService.isLoggedIn" class="row">
        <div class="col-12 col-lg-4 col-xl-4" *ngIf="registerService.enterOTP">
          <div class="form-group">
            <label for="inputPassword5"
          >Enter OTP<small class="asterik_sign">*</small></label
        >
            <input
          [readonly] = "registerService.markAsComplete"
          formControlName="otp"
          type="number"
          class="form-control"
          id="inputPassword5"
          aria-describedby="passwordHelpBlock"
          placeholder="Enter OTP"
        />
          </div>
        </div>
        <div class="col-12 col-lg-4 col-xl-8">
        </div>
      </div>
      <div *ngIf="registerService.isLoggedIn" class="row">
        <div class="col-12 col-lg-4 col-xl-4">
          <label for="profile-first-name">Upload Photo</label>
          <input type="file" class="form-control">
        </div>
      </div>

      <div class="row" *ngIf="registerService.isLoggedIn" >
        <div class="form-group col-12  mb-0">
          <button class="btn btn-primary" (click)="updateBasicDetails()" [disabled]="!registerService.basicDetails.valid" >Update</button>
        </div>
      </div>

      <div class="row"  *ngIf="!registerService.isLoggedIn">

          <div class="form-group mb-0 mr-10" style="margin-right: 10px;" >
            <button class="btn btn-primary" [disabled]="(f.mobile.errors && f.emailId.errors && !registerService.enterOTP)"
            (click)="sendOTP()">Send OTP</button>
          </div>
          <div class="form-group  mb-0 mr-10" style="margin-right: 10px;" *ngIf="registerService.enterOTP">
            <button class="btn btn-primary " [disabled]="f.otp.errors || registerService.markAsComplete"
            (click)="verifyOTP()">Verify OTP</button>
          </div>
          <div class="form-group  mb-0 mr-10" style="margin-right: 10px;" *ngIf="registerService.enterOTP">
            <button class="btn btn-primary "  [disabled]="registerService.markAsComplete"
            (click)="sendOTP()">Resend OTP</button>
          </div>
          
       
          <div class="form-group  mb-0">
            <button class="btn btn-primary "  type="submit" (click)="submitBasicDetails()" [disabled]="!(registerService.basicDetails.valid && registerService.markAsComplete)">Next</button>
        </div>
      </div>
      </form>
    </div>
  </div>